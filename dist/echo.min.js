/*! @ryanmorr/echo v1.0.0 | https://github.com/ryanmorr/echo */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).echo=e()}}(function(){return function i(u,d,a){function l(t,e){if(!d[t]){if(!u[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=d[t]={exports:{}};u[t][0].call(o.exports,function(e){return l(u[t][1][e]||e)},o,o.exports,i,u,d,a)}return d[t].exports}for(var s="function"==typeof require&&require,e=0;e<a.length;e++)l(a[e]);return l}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("./patch"))&&r.__esModule?r:{default:r},i=e("./util");function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d={childList:!0,attributes:!0,characterData:!0,subtree:!0},a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.node=e,this.vnode=this.node.cloneNode(!0),this.observer=new MutationObserver(this.onChange.bind(this)),this.observer.observe(this.vnode,d)}var e,n,r;return e=t,(n=[{key:"destroy",value:function(){this.observer&&(this.observer.disconnect(),this.observer=this.node=this.vnode=null)}},{key:"getNode",value:function(){return this.node}},{key:"getVNode",value:function(){return this.vnode}},{key:"update",value:function(){this.renderer||(this.renderer=this.render.bind(this),(0,i.scheduleRender)(this.renderer))}},{key:"render",value:function(){this.renderer=null,(0,o.default)(this.node,this.vnode),this.getNode().dispatchEvent(new CustomEvent("patch",{bubbles:!1,cancelable:!1}))}},{key:"onChange",value:function(){document.contains(this.getNode())?this.update():this.render()}}])&&u(e.prototype,n),r&&u(e,r),t}();n.default=a,t.exports=n.default},{"./patch":3,"./util":4}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.echo=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;t=(0,i.getElement)(t);var e=u.findIndex(function(e){return e.getNode()===t});if(-1!==e)return u[e].getVNode();var n=new o.default(t);return u.push(n),n.getVNode()},n.destroy=function(t){var e=u.findIndex(function(e){return e.getVNode()===t});if(-1!==e){var n=u[e];n.destroy(),u.splice(e,1)}};var r,o=(r=e("./echo"))&&r.__esModule?r:{default:r},i=e("./util");var u=[]},{"./echo":1,"./util":4}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n){if(t.nodeType!==n.nodeType||t.nodeName!==n.nodeName)return void t.parentNode.replaceChild(n.cloneNode(!0),t);if(3===n.nodeType){var r=n.data;return void(t.data!==r&&(t.data=r))}var o=t.childNodes;var i=n.childNodes;for(var u=Math.min(o.length,i.length)-1;0<=u;u--)e(o[u],i[u]);if(!t.isEqualNode(n)){var d=t.attributes,a=n.attributes;if(o.length>i.length)for(var l=o.length-1;l>=i.length;l--)t.removeChild(o[l]);else if(o.length<i.length){for(var s=document.createDocumentFragment(),f=o.length;f<i.length;f++)s.appendChild(i[f].cloneNode(!0));t.appendChild(s)}for(var c=d.length-1;0<=c;c--){var h=d[c].name;n.hasAttribute(h)||t.removeAttribute(h)}for(var v=a.length-1;0<=v;v--){var p=a[v],g=p.name,b=p.value;t.getAttribute(g)!==b&&t.setAttribute(g,b)}}},t.exports=n.default},{}],4:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.getElement=function(e){return"string"!=typeof e?9===e.nodeType?e.documentElement:e:document.querySelector(e)},n.scheduleRender=function(e){r||(r=requestAnimationFrame(i));o.push(e)};var o=[];function i(){for(r=null;o.length;)o.pop()()}},{}]},{},[2])(2)});
//# sourceMappingURL=echo.min.js.map
